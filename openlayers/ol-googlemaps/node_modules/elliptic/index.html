



<!DOCTYPE html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Curso WebGIS. Mapas libres con Leaflet y OpenLayers</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../../../#elliptic" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../.." title="Curso WebGIS. Mapas libres con Leaflet y OpenLayers" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Curso WebGIS. Mapas libres con Leaflet y OpenLayers
              </span>
              <span class="md-header-nav__topic">
                Elliptic [![Build Status](https://secure.travis-ci.org/indutny/elliptic.png)](http://travis-ci.org/indutny/elliptic) [![Coverage Status](https://coveralls.io/repos/indutny/elliptic/badge.svg?branch=master&service=github)](https://coveralls.io/github/indutny/elliptic?branch=master) [![Code Climate](https://codeclimate.com/github/indutny/elliptic/badges/gpa.svg)](https://codeclimate.com/github/indutny/elliptic)
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/xeoinquedos/curso-webgis/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Curso WebGIS
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../.." title="Curso WebGIS. Mapas libres con Leaflet y OpenLayers" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Curso WebGIS. Mapas libres con Leaflet y OpenLayers
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/xeoinquedos/curso-webgis/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Curso WebGIS
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../1_creando_mapa/" title="1. Creando un mapa" class="md-nav__link">
      1. Creando un mapa
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../2_capas_base/" title="2. El mapa sin datos. Añadir una capa base" class="md-nav__link">
      2. El mapa sin datos. Añadir una capa base
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../3_mis_datos/" title="3. Mas allá de la capa base, añadiendo mis propios datos" class="md-nav__link">
      3. Mas allá de la capa base, añadiendo mis propios datos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../4_wms_wmts/" title="4. Y si los datos son enormes" class="md-nav__link">
      4. Y si los datos son enormes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../5_interactuando_mapa/" title="5. Interactuando con el mapa" class="md-nav__link">
      5. Interactuando con el mapa
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../6_osm_y_tilemill/" title="6. Usando OpenStreetMap como fuente de datos, Tilemill. Enlace a GeoTalleres" class="md-nav__link">
      6. Usando OpenStreetMap como fuente de datos, Tilemill. Enlace a GeoTalleres
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../7_extra_1_osm_y_umap/" title="7. Extra 1. Un visor rápido con datos vectoriales de OSM usando uMap" class="md-nav__link">
      7. Extra 1. Un visor rápido con datos vectoriales de OSM usando uMap
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#incentive" title="Incentive" class="md-nav__link">
    Incentive
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#benchmarks" title="Benchmarks" class="md-nav__link">
    Benchmarks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" title="API" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ecdsa" title="ECDSA" class="md-nav__link">
    ECDSA
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eddsa" title="EdDSA" class="md-nav__link">
    EdDSA
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecdh" title="ECDH" class="md-nav__link">
    ECDH
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-curves" title="Supported curves" class="md-nav__link">
    Supported curves
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implementation-details" title="Implementation details" class="md-nav__link">
    Implementation details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#related-projects" title="Related projects" class="md-nav__link">
    Related projects
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#license" title="LICENSE" class="md-nav__link">
    LICENSE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/xeoinquedos/curso-webgis/edit/master/docs/openlayers/ol-googlemaps/node_modules/elliptic/README.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="elliptic">Elliptic <a href="http://travis-ci.org/indutny/elliptic"><img alt="Build Status" src="https://secure.travis-ci.org/indutny/elliptic.png" /></a> <a href="https://coveralls.io/github/indutny/elliptic?branch=master"><img alt="Coverage Status" src="https://coveralls.io/repos/indutny/elliptic/badge.svg?branch=master&amp;service=github" /></a> <a href="https://codeclimate.com/github/indutny/elliptic"><img alt="Code Climate" src="https://codeclimate.com/github/indutny/elliptic/badges/gpa.svg" /></a></h1>
<p><a href="https://saucelabs.com/u/gh-indutny-elliptic"><img alt="Saucelabs Test Status" src="https://saucelabs.com/browser-matrix/gh-indutny-elliptic.svg" /></a></p>
<p>Fast elliptic-curve cryptography in a plain javascript implementation.</p>
<p>NOTE: Please take a look at http://safecurves.cr.yp.to/ before choosing a curve
for your cryptography operations.</p>
<h2 id="incentive">Incentive</h2>
<p>ECC is much slower than regular RSA cryptography, the JS implementations are
even more slower.</p>
<h2 id="benchmarks">Benchmarks</h2>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ node benchmarks/index.js
Benchmarking: sign
elliptic#sign x <span class="m">262</span> ops/sec ±0.51% <span class="o">(</span><span class="m">177</span> runs sampled<span class="o">)</span>
eccjs#sign x <span class="m">55</span>.91 ops/sec ±0.90% <span class="o">(</span><span class="m">144</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#sign
<span class="o">========================</span>
Benchmarking: verify
elliptic#verify x <span class="m">113</span> ops/sec ±0.50% <span class="o">(</span><span class="m">166</span> runs sampled<span class="o">)</span>
eccjs#verify x <span class="m">48</span>.56 ops/sec ±0.36% <span class="o">(</span><span class="m">125</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#verify
<span class="o">========================</span>
Benchmarking: gen
elliptic#gen x <span class="m">294</span> ops/sec ±0.43% <span class="o">(</span><span class="m">176</span> runs sampled<span class="o">)</span>
eccjs#gen x <span class="m">62</span>.25 ops/sec ±0.63% <span class="o">(</span><span class="m">129</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#gen
<span class="o">========================</span>
Benchmarking: ecdh
elliptic#ecdh x <span class="m">136</span> ops/sec ±0.85% <span class="o">(</span><span class="m">156</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#ecdh
<span class="o">========================</span>
</pre></div>
</td></tr></table>

<h2 id="api">API</h2>
<h3 id="ecdsa">ECDSA</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">EC</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">ec</span><span class="p">;</span>

<span class="c1">// Create and initialize EC context</span>
<span class="c1">// (better do it once and reuse it)</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EC</span><span class="p">(</span><span class="s1">&#39;secp256k1&#39;</span><span class="p">);</span>

<span class="c1">// Generate keys</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>

<span class="c1">// Sign the message&#39;s hash (input must be an array, or a hex-string)</span>
<span class="kd">var</span> <span class="nx">msgHash</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">);</span>

<span class="c1">// Export DER encoded signature in Array</span>
<span class="kd">var</span> <span class="nx">derSign</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">.</span><span class="nx">toDER</span><span class="p">();</span>

<span class="c1">// Verify signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">derSign</span><span class="p">));</span>

<span class="c1">// CHECK WITH NO PRIVATE KEY</span>

<span class="kd">var</span> <span class="nx">pubPoint</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">pubPoint</span><span class="p">.</span><span class="nx">getX</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">pubPoint</span><span class="p">.</span><span class="nx">getY</span><span class="p">();</span>

<span class="c1">// Public Key MUST be either:</span>
<span class="c1">// 1) &#39;04&#39; + hex string of x + hex string of y; or</span>
<span class="c1">// 2) object with two hex string properties (x and y); or</span>
<span class="c1">// 3) object with two buffer properties (x and y)</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="nx">pubPoint</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">);</span>                                 <span class="c1">// case 1</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">),</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">)</span> <span class="p">};</span>         <span class="c1">// case 2</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toBuffer</span><span class="p">(),</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">.</span><span class="nx">toBuffer</span><span class="p">()</span> <span class="p">};</span>                   <span class="c1">// case 3</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toArrayLike</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">),</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">.</span><span class="nx">toArrayLike</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">)</span> <span class="p">};</span> <span class="c1">// case 3</span>

<span class="c1">// Import public key</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">keyFromPublic</span><span class="p">(</span><span class="nx">pub</span><span class="p">,</span> <span class="s1">&#39;hex&#39;</span><span class="p">);</span>

<span class="c1">// Signature MUST be either:</span>
<span class="c1">// 1) DER-encoded signature as hex-string; or</span>
<span class="c1">// 2) DER-encoded signature as buffer; or</span>
<span class="c1">// 3) object with two hex-string properties (r and s); or</span>
<span class="c1">// 4) object with two buffer properties (r and s)</span>

<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="s1">&#39;3046022100...&#39;</span><span class="p">;</span> <span class="c1">// case 1</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span> <span class="c1">// case 2</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">r</span><span class="o">:</span> <span class="s1">&#39;b1fc...&#39;</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="s1">&#39;9c42...&#39;</span> <span class="p">};</span> <span class="c1">// case 3</span>

<span class="c1">// Verify signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">signature</span><span class="p">));</span>
</pre></div>
</td></tr></table>

<h3 id="eddsa">EdDSA</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">EdDSA</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">eddsa</span><span class="p">;</span>

<span class="c1">// Create and initialize EdDSA context</span>
<span class="c1">// (better do it once and reuse it)</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EdDSA</span><span class="p">(</span><span class="s1">&#39;ed25519&#39;</span><span class="p">);</span>

<span class="c1">// Create key pair from secret</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">keyFromSecret</span><span class="p">(</span><span class="s1">&#39;693e3c...&#39;</span><span class="p">);</span> <span class="c1">// hex string, array or Buffer</span>

<span class="c1">// Sign the message&#39;s hash (input must be an array, or a hex-string)</span>
<span class="kd">var</span> <span class="nx">msgHash</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">).</span><span class="nx">toHex</span><span class="p">();</span>

<span class="c1">// Verify signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">signature</span><span class="p">));</span>

<span class="c1">// CHECK WITH NO PRIVATE KEY</span>

<span class="c1">// Import public key</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="s1">&#39;0a1af638...&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">keyFromPublic</span><span class="p">(</span><span class="nx">pub</span><span class="p">,</span> <span class="s1">&#39;hex&#39;</span><span class="p">);</span>

<span class="c1">// Verify signature</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="s1">&#39;70bed1...&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">signature</span><span class="p">));</span>
</pre></div>
</td></tr></table>

<h3 id="ecdh">ECDH</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">EC</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">ec</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EC</span><span class="p">(</span><span class="s1">&#39;curve25519&#39;</span><span class="p">);</span>

<span class="c1">// Generate keys</span>
<span class="kd">var</span> <span class="nx">key1</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">key2</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">shared1</span> <span class="o">=</span> <span class="nx">key1</span><span class="p">.</span><span class="nx">derive</span><span class="p">(</span><span class="nx">key2</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">());</span>
<span class="kd">var</span> <span class="nx">shared2</span> <span class="o">=</span> <span class="nx">key2</span><span class="p">.</span><span class="nx">derive</span><span class="p">(</span><span class="nx">key1</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">());</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Both shared secrets are BN instances&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shared1</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shared2</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>
</pre></div>
</td></tr></table>

<p>three and more members:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">EC</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">ec</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EC</span><span class="p">(</span><span class="s1">&#39;curve25519&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">B</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">C</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">AB</span> <span class="o">=</span> <span class="nx">A</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">().</span><span class="nx">mul</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">BC</span> <span class="o">=</span> <span class="nx">B</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">().</span><span class="nx">mul</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">CA</span> <span class="o">=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">().</span><span class="nx">mul</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>

<span class="kd">var</span> <span class="nx">ABC</span> <span class="o">=</span> <span class="nx">AB</span><span class="p">.</span><span class="nx">mul</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">BCA</span> <span class="o">=</span> <span class="nx">BC</span><span class="p">.</span><span class="nx">mul</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">CAB</span> <span class="o">=</span> <span class="nx">CA</span><span class="p">.</span><span class="nx">mul</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ABC</span><span class="p">.</span><span class="nx">getX</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">BCA</span><span class="p">.</span><span class="nx">getX</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">CAB</span><span class="p">.</span><span class="nx">getX</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
</pre></div>
</td></tr></table>

<p>NOTE: <code>.derive()</code> returns a <a href="https://github.com/indutny/bn.js">BN</a> instance.</p>
<h2 id="supported-curves">Supported curves</h2>
<p>Elliptic.js support following curve types:</p>
<ul>
<li>Short Weierstrass</li>
<li>Montgomery</li>
<li>Edwards</li>
<li>Twisted Edwards</li>
</ul>
<p>Following curve 'presets' are embedded into the library:</p>
<ul>
<li><code>secp256k1</code></li>
<li><code>p192</code></li>
<li><code>p224</code></li>
<li><code>p256</code></li>
<li><code>p384</code></li>
<li><code>p521</code></li>
<li><code>curve25519</code></li>
<li><code>ed25519</code></li>
</ul>
<p>NOTE: That <code>curve25519</code> could not be used for ECDSA, use <code>ed25519</code> instead.</p>
<h3 id="implementation-details">Implementation details</h3>
<p>ECDSA is using deterministic <code>k</code> value generation as per <a href="http://tools.ietf.org/html/rfc6979">RFC6979</a>. Most of
the curve operations are performed on non-affine coordinates (either projective
or extended), various windowing techniques are used for different cases.</p>
<p>All operations are performed in reduction context using <a href="https://github.com/indutny/bn.js">bn.js</a>, hashing is
provided by <a href="https://github.com/indutny/hash.js">hash.js</a></p>
<h3 id="related-projects">Related projects</h3>
<ul>
<li><a href="https://github.com/bitchan/eccrypto">eccrypto</a>: isomorphic implementation of ECDSA, ECDH and ECIES for both
  browserify and node (uses <code>elliptic</code> for browser and <a href="https://github.com/wanderer/secp256k1-node">secp256k1-node</a> for
  node)</li>
</ul>
<h4 id="license">LICENSE</h4>
<p>This software is licensed under the MIT License.</p>
<p>Copyright Fedor Indutny, 2014.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to permit
persons to whom the Software is furnished to do so, subject to the
following conditions:</p>
<p>The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.583bbe55.js"></script>
      
        
        
          
          <script src="../../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../../../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
    
      
    
  </body>
</html>
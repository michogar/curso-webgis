



<!DOCTYPE html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Curso WebGIS. Mapas libres con Leaflet y OpenLayers</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../../../../#enhanced-fsreaddir" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../../.." title="Curso WebGIS. Mapas libres con Leaflet y OpenLayers" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Curso WebGIS. Mapas libres con Leaflet y OpenLayers
              </span>
              <span class="md-header-nav__topic">
                Home
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/xeoinquedos/curso-webgis/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Curso WebGIS
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../../.." title="Curso WebGIS. Mapas libres con Leaflet y OpenLayers" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Curso WebGIS. Mapas libres con Leaflet y OpenLayers
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/xeoinquedos/curso-webgis/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Curso WebGIS
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../1_creando_mapa/" title="1. Creando un mapa" class="md-nav__link">
      1. Creando un mapa
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../2_capas_base/" title="2. El mapa sin datos. Añadir una capa base" class="md-nav__link">
      2. El mapa sin datos. Añadir una capa base
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../3_mis_datos/" title="3. Mas allá de la capa base, añadiendo mis propios datos" class="md-nav__link">
      3. Mas allá de la capa base, añadiendo mis propios datos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../4_wms_wmts/" title="4. Y si los datos son enormes" class="md-nav__link">
      4. Y si los datos son enormes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../5_interactuando_mapa/" title="5. Interactuando con el mapa" class="md-nav__link">
      5. Interactuando con el mapa
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../6_osm_y_tilemill/" title="6. Usando OpenStreetMap como fuente de datos, Tilemill. Enlace a GeoTalleres" class="md-nav__link">
      6. Usando OpenStreetMap como fuente de datos, Tilemill. Enlace a GeoTalleres
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../7_extra_1_osm_y_umap/" title="7. Extra 1. Un visor rápido con datos vectoriales de OSM usando uMap" class="md-nav__link">
      7. Extra 1. Un visor rápido con datos vectoriales de OSM usando uMap
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pick-your-api" title="Pick Your API" class="md-nav__link">
    Pick Your API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recursion" title="Recursion" class="md-nav__link">
    Recursion
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crawl-all-subdirectories" title="Crawl ALL subdirectories" class="md-nav__link">
    Crawl ALL subdirectories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crawl-to-a-specific-depth" title="Crawl to a specific depth" class="md-nav__link">
    Crawl to a specific depth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crawl-subdirectories-by-name" title="Crawl subdirectories by name" class="md-nav__link">
    Crawl subdirectories by name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-recursion-logic" title="Custom recursion logic" class="md-nav__link">
    Custom recursion logic
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering" title="Filtering" class="md-nav__link">
    Filtering
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filter-by-name" title="Filter by name" class="md-nav__link">
    Filter by name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-filtering-logic" title="Custom filtering logic" class="md-nav__link">
    Custom filtering logic
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#base-path" title="Base Path" class="md-nav__link">
    Base Path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-separator" title="Path Separator" class="md-nav__link">
    Path Separator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-fs-methods" title="Custom FS methods" class="md-nav__link">
    Custom FS methods
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" title="Contributing" class="md-nav__link">
    Contributing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building" title="Building" class="md-nav__link">
    Building
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" title="License" class="md-nav__link">
    License
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/xeoinquedos/curso-webgis/edit/master/docs/openlayers/ol-googlemaps/node_modules/@mrmlnc/readdir-enhanced/README.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="enhanced-fsreaddir">Enhanced <code>fs.readdir()</code></h1>
<blockquote>
<p>:warning: This is «fork» for original <code>readdir-enhanced</code> package but with some monkey fixes.</p>
</blockquote>
<p><a href="https://travis-ci.org/BigstickCarpet/readdir-enhanced"><img alt="Build Status" src="https://api.travis-ci.org/BigstickCarpet/readdir-enhanced.svg?branch=master" /></a>
<a href="https://ci.appveyor.com/project/BigstickCarpet/readdir-enhanced/branch/master"><img alt="Windows Build Status" src="https://ci.appveyor.com/api/projects/status/github/bigstickcarpet/readdir-enhanced?svg=true&amp;branch=master&amp;failingText=Windows%20build%20failing&amp;passingText=Windows%20build%20passing" /></a></p>
<p><a href="https://coveralls.io/github/BigstickCarpet/readdir-enhanced?branch=master"><img alt="Coverage Status" src="https://coveralls.io/repos/github/BigstickCarpet/readdir-enhanced/badge.svg?branch=master" /></a>
<a href="https://www.codacy.com/public/jamesmessinger/readdir-enhanced"><img alt="Codacy Score" src="https://api.codacy.com/project/badge/Grade/178a817b6c864de7813fef457c0ed5ae" /></a>
<a href="http://inch-ci.org/github/BigstickCarpet/readdir-enhanced"><img alt="Inline docs" src="http://inch-ci.org/github/BigstickCarpet/readdir-enhanced.svg?branch=master&amp;style=shields" /></a>
<a href="https://david-dm.org/BigstickCarpet/readdir-enhanced"><img alt="Dependencies" src="https://david-dm.org/BigstickCarpet/readdir-enhanced.svg" /></a></p>
<p><a href="https://www.npmjs.com/package/readdir-enhanced"><img alt="npm" src="https://img.shields.io/npm/v/readdir-enhanced.svg?maxAge=43200" /></a>
<a href="LICENSE"><img alt="License" src="https://img.shields.io/npm/l/readdir-enhanced.svg?maxAge=2592000" /></a></p>
<p><code>readdir-enhanced</code> is a <a href="#backward-compatible">backward-compatible</a> drop-in replacement for <a href="https://nodejs.org/api/fs.html#fs_fs_readdir_path_options_callback"><code>fs.readdir()</code></a> and <a href="https://nodejs.org/api/fs.html#fs_fs_readdirsync_path_options"><code>fs.readdirSync()</code></a> with tons of extra features (<a href="#filter">filtering</a>, <a href="#deep">recursion</a>, <a href="#basepath">absolute paths</a>, <a href="#stats">stats</a>, and more) as well as additional APIs for Promises, Streams, and EventEmitters.</p>
<h2 id="pick-your-api">Pick Your API</h2>
<p><code>readdir-enhanced</code> has multiple APIs, so you can pick whichever one you prefer.  There are three main APIs:</p>
<ul>
<li>
<p><strong>Synchronous API</strong><br>
aliases: <code>readdir.sync</code>, <code>readdir.readdirSync</code><br>
Blocks the thread until all directory contents are read, and then returns all the results.</p>
</li>
<li>
<p><strong>Async API</strong><br>
aliases: <code>readdir</code>, <code>readdir.async</code>, <code>readdir.readdirAsync</code><br>
Reads the starting directory contents asynchronously and buffers all the results until all contents have been read. Supports callback or Promise syntax (see example below).</p>
</li>
<li>
<p><strong>Streaming API</strong><br>
aliases: <code>readdir.stream</code>, <code>readdir.readdirStream</code><br>
The streaming API reads the starting directory asynchronously and returns the results in real-time as they are read. The results can be <a href="https://nodejs.org/api/stream.html#stream_readable_pipe_destination_options">piped</a> to other Node.js streams, or you can listen for specific events via the <a href="https://nodejs.org/api/events.html#events_class_eventemitter">EventEmitter</a> interface. (see example below)</p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">through2</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;through2&#39;</span><span class="p">);</span>

<span class="c1">// Synchronous API</span>
<span class="kd">var</span> <span class="nx">files</span> <span class="o">=</span> <span class="nx">readdir</span><span class="p">.</span><span class="nx">sync</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">);</span>

<span class="c1">// Callback API</span>
<span class="nx">readdir</span><span class="p">.</span><span class="nx">async</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>

<span class="c1">// Promises API</span>
<span class="nx">readdir</span><span class="p">.</span><span class="nx">async</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">files</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>

<span class="c1">// EventEmitter API</span>
<span class="nx">readdir</span><span class="p">.</span><span class="nx">stream</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;directory&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;symlink&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>

<span class="c1">// Streaming API</span>
<span class="kd">var</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">readdir</span><span class="p">.</span><span class="nx">stream</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">through2</span><span class="p">.</span><span class="nx">obj</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">enc</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="nx">next</span><span class="p">();</span>
  <span class="p">});</span>
</pre></div>
</td></tr></table>

<p><a id="options"></a>
Enhanced Features</p>
<hr />
<p><code>readdir-enhanced</code> adds several features to the built-in <code>fs.readdir()</code> function.  All of the enhanced features are opt-in, which makes <code>readdir-enhanced</code> <a href="#backward-compatible">fully backward compatible by default</a>.  You can enable any of the features by passing-in an <code>options</code> argument as the second parameter.</p>
<p><a id="deep"></a></p>
<h3 id="recursion">Recursion</h3>
<p>By default, <code>readdir-enhanced</code> will only return the top-level contents of the starting directory. But you can set the <code>deep</code> option to recursively traverse the subdirectories and return their contents as well.</p>
<h4 id="crawl-all-subdirectories">Crawl ALL subdirectories</h4>
<p>The <code>deep</code> option can be set to <code>true</code> to traverse the entire directory structure.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">deep</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; subdir1</span>
  <span class="c1">// =&gt; subdir1/file.txt</span>
  <span class="c1">// =&gt; subdir1/subdir2</span>
  <span class="c1">// =&gt; subdir1/subdir2/file.txt</span>
  <span class="c1">// =&gt; subdir1/subdir2/subdir3</span>
  <span class="c1">// =&gt; subdir1/subdir2/subdir3/file.txt</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<h4 id="crawl-to-a-specific-depth">Crawl to a specific depth</h4>
<p>The <code>deep</code> option can be set to a number to only traverse that many levels deep.  For example, calling <code>readdir('my/directory', {deep: 2})</code> will return <code>subdir1/file.txt</code> and <code>subdir1/subdir2/file.txt</code>, but it <em>won't</em> return <code>subdir1/subdir2/subdir3/file.txt</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">deep</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; subdir1</span>
  <span class="c1">// =&gt; subdir1/file.txt</span>
  <span class="c1">// =&gt; subdir1/subdir2</span>
  <span class="c1">// =&gt; subdir1/subdir2/file.txt</span>
  <span class="c1">// =&gt; subdir1/subdir2/subdir3</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<h4 id="crawl-subdirectories-by-name">Crawl subdirectories by name</h4>
<p>For simple use-cases, you can use a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">regular expression</a> or a <a href="https://github.com/isaacs/node-glob#glob-primer">glob pattern</a> to crawl only the directories whose path matches the pattern.  The path is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>.</p>
<blockquote>
<p><strong>NOTE:</strong> Glob patterns <a href="https://github.com/isaacs/node-glob#windows"><em>always</em> use forward-slashes</a>, even on Windows. This <em>does not</em> apply to regular expressions though. Regular expressions should use the appropraite path separator for the environment. Or, you can match both types of separators using <code>[\\/]</code>.</p>
</blockquote>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="c1">// Only crawl the &quot;lib&quot; and &quot;bin&quot; subdirectories</span>
<span class="c1">// (notice that the &quot;node_modules&quot; subdirectory does NOT get crawled)</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">deep</span><span class="o">:</span> <span class="sr">/lib|bin/</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; bin</span>
  <span class="c1">// =&gt; bin/cli.js</span>
  <span class="c1">// =&gt; lib</span>
  <span class="c1">// =&gt; lib/index.js</span>
  <span class="c1">// =&gt; node_modules</span>
  <span class="c1">// =&gt; package.json</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<h4 id="custom-recursion-logic">Custom recursion logic</h4>
<p>For more advanced recursion, you can set the <code>deep</code> option to a function that accepts an <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object and returns a truthy value if the starting directory should be crawled.</p>
<blockquote>
<p><strong>NOTE:</strong> The <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object that's passed to the function has additional <code>path</code> and <code>depth</code> properties. The <code>path</code> is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>. The <code>depth</code> is the number of subdirectories beneath the base path (see <a href="#deep"><code>options.deep</code></a>).</p>
</blockquote>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="c1">// Crawl all subdirectories, except &quot;node_modules&quot;</span>
<span class="kd">function</span> <span class="nx">ignoreNodeModules</span> <span class="p">(</span><span class="nx">stats</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">stats</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;node_modules&#39;</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">deep</span><span class="o">:</span> <span class="nx">ignoreNodeModules</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; bin</span>
  <span class="c1">// =&gt; bin/cli.js</span>
  <span class="c1">// =&gt; lib</span>
  <span class="c1">// =&gt; lib/index.js</span>
  <span class="c1">// =&gt; node_modules</span>
  <span class="c1">// =&gt; package.json</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<p><a id="filter"></a></p>
<h3 id="filtering">Filtering</h3>
<p>The <code>filter</code> option lets you limit the results based on any criteria you want.</p>
<h4 id="filter-by-name">Filter by name</h4>
<p>For simple use-cases, you can use a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">regular expression</a> or a <a href="https://github.com/isaacs/node-glob#glob-primer">glob pattern</a> to filter items by their path.  The path is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>.</p>
<blockquote>
<p><strong>NOTE:</strong> Glob patterns <a href="https://github.com/isaacs/node-glob#windows"><em>always</em> use forward-slashes</a>, even on Windows. This <em>does not</em> apply to regular expressions though. Regular expressions should use the appropraite path separator for the environment. Or, you can match both types of separators using <code>[\\/]</code>.</p>
</blockquote>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="c1">// Find all .txt files</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">filter</span><span class="o">:</span> <span class="s1">&#39;*.txt&#39;</span><span class="p">});</span>

<span class="c1">// Find all package.json files</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">filter</span><span class="o">:</span> <span class="s1">&#39;**/package.json&#39;</span><span class="p">,</span> <span class="nx">deep</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>

<span class="c1">// Find everything with at least one number in the name</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">filter</span><span class="o">:</span> <span class="sr">/\d+/</span><span class="p">});</span>
</pre></div>
</td></tr></table>

<h4 id="custom-filtering-logic">Custom filtering logic</h4>
<p>For more advanced filtering, you can specify a filter function that accepts an <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object and returns a truthy value if the item should be included in the results.</p>
<blockquote>
<p><strong>NOTE:</strong> The <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object that's passed to the filter function has additional <code>path</code> and <code>depth</code> properties. The <code>path</code> is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>. The <code>depth</code> is the number of subdirectories beneath the base path (see <a href="#deep"><code>options.deep</code></a>).</p>
</blockquote>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="c1">// Only return file names containing an underscore</span>
<span class="kd">function</span> <span class="nx">myFilter</span><span class="p">(</span><span class="nx">stats</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">stats</span><span class="p">.</span><span class="nx">isFile</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">stats</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">filter</span><span class="o">:</span> <span class="nx">myFilter</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; __myFile.txt</span>
  <span class="c1">// =&gt; my_other_file.txt</span>
  <span class="c1">// =&gt; img_1.jpg</span>
  <span class="c1">// =&gt; node_modules</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<p><a id="basepath"></a></p>
<h3 id="base-path">Base Path</h3>
<p>By default all <code>readdir-enhanced</code> functions return paths that are relative to the starting directory. But you can use the <code>basePath</code> option to customize this.  The <code>basePath</code> will be prepended to all of the returned paths.  One common use-case for this is to set <code>basePath</code> to the absolute path of the starting directory, so that all of the returned paths will be absolute.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>

<span class="c1">// Get absolute paths</span>
<span class="kd">var</span> <span class="nx">absPath</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;my/dir&#39;</span><span class="p">);</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">basePath</span><span class="o">:</span> <span class="nx">absPath</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; /absolute/path/to/my/directory/file1.txt</span>
  <span class="c1">// =&gt; /absolute/path/to/my/directory/file2.txt</span>
  <span class="c1">// =&gt; /absolute/path/to/my/directory/subdir</span>
<span class="p">});</span>

<span class="c1">// Get paths relative to the working directory</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">basePath</span><span class="o">:</span> <span class="s1">&#39;my/directory&#39;</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; my/directory/file1.txt</span>
  <span class="c1">// =&gt; my/directory/file2.txt</span>
  <span class="c1">// =&gt; my/directory/subdir</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<p><a id="sep"></a></p>
<h3 id="path-separator">Path Separator</h3>
<p>By default, <code>readdir-enhanced</code> uses the correct path separator for your OS (<code>\</code> on Windows, <code>/</code> on Linux &amp; MacOS). But you can set the <code>sep</code> option to any separator character(s) that you want to use instead.  This is usually used to ensure consistent path separators across different OSes.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="c1">// Always use Windows path separators</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">sep</span><span class="o">:</span> <span class="s1">&#39;\\&#39;</span><span class="p">,</span> <span class="nx">deep</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; subdir1</span>
  <span class="c1">// =&gt; subdir1\file.txt</span>
  <span class="c1">// =&gt; subdir1\subdir2</span>
  <span class="c1">// =&gt; subdir1\subdir2\file.txt</span>
  <span class="c1">// =&gt; subdir1\subdir2\subdir3</span>
  <span class="c1">// =&gt; subdir1\subdir2\subdir3\file.txt</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<p><a id="fs"></a></p>
<h3 id="custom-fs-methods">Custom FS methods</h3>
<p>By default, <code>readdir-enhanced</code> uses the default <a href="https://nodejs.org/api/fs.html">Node.js FileSystem module</a> for methods like <code>fs.stat</code>, <code>fs.readdir</code> and <code>fs.lstat</code>. But in some situations, you can want to use your own FS methods (FTP, SSH, remote drive and etc). So you can provide your own implementation of FS methods by setting <code>options.fs</code> or specific methods, such as <code>options.fs.stat</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">myCustomReaddirMethod</span><span class="p">(</span><span class="nx">dir</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;__myFile.txt&#39;</span><span class="p">]);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">fs</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">readdir</span><span class="o">:</span> <span class="nx">myCustomReaddirMethod</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
  <span class="c1">// =&gt; __myFile.txt</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

<p><a id="stats"></a>
Get <code>fs.Stats</code> objects instead of strings</p>
<hr />
<p>All of the <code>readdir-enhanced</code> functions listed above return an array of strings (paths). But in some situations, the path isn't enough information.  So, <code>readdir-enhanced</code> provides alternative versions of each function, which return an array of <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> objects instead of strings.  The <code>fs.Stats</code> object contains all sorts of useful information, such as the size, the creation date/time, and helper methods such as <code>isFile()</code>, <code>isDirectory()</code>, <code>isSymbolicLink()</code>, etc.</p>
<blockquote>
<p><strong>NOTE:</strong> The <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> objects that are returned also have additional <code>path</code> and <code>depth</code> properties. The <code>path</code> is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>. The <code>depth</code> is the number of subdirectories beneath the base path (see <a href="#deep"><code>options.deep</code></a>).</p>
</blockquote>
<p>To get <code>fs.Stats</code> objects instead of strings, just add the word "Stat" to the function name.  As with the normal functions, each one is aliased (e.g. <code>readdir.async.stat</code> is the same as <code>readdir.readdirAsyncStat</code>), so you can use whichever naming style you prefer.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>

<span class="c1">// Synchronous API</span>
<span class="kd">var</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nx">readdir</span><span class="p">.</span><span class="nx">sync</span><span class="p">.</span><span class="nx">stat</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nx">readdir</span><span class="p">.</span><span class="nx">readdirSyncStat</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">);</span>

<span class="c1">// Async API</span>
<span class="nx">readdir</span><span class="p">.</span><span class="nx">async</span><span class="p">.</span><span class="nx">stat</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">stats</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>
<span class="nx">readdir</span><span class="p">.</span><span class="nx">readdirAsyncStat</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">stats</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>

<span class="c1">// Streaming API</span>
<span class="nx">readdir</span><span class="p">.</span><span class="nx">stream</span><span class="p">.</span><span class="nx">stat</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;directory&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;symlink&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>

<span class="nx">readdir</span><span class="p">.</span><span class="nx">readdirStreamStat</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;directory&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;symlink&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">stat</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>
</pre></div>
</td></tr></table>

<p><a id="backward-compatible"></a>
Backward Compatible</p>
<hr />
<p><code>readdir-enhanced</code> is fully backward-compatible with Node.js' built-in <code>fs.readdir()</code> and <code>fs.readdirSync()</code> functions, so you can use it as a drop-in replacement in existing projects without affecting existing functionality, while still being able to use the enhanced features as needed.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">readdir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readdir-enhanced&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">readdirSync</span> <span class="o">=</span> <span class="nx">readdir</span><span class="p">.</span><span class="nx">sync</span><span class="p">;</span>

<span class="c1">// Use it just like Node&#39;s built-in fs.readdir function</span>
<span class="nx">readdir</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">});</span>

<span class="c1">// Use it just like Node&#39;s built-in fs.readdirSync function</span>
<span class="kd">var</span> <span class="nx">files</span> <span class="o">=</span> <span class="nx">readdirSync</span><span class="p">(</span><span class="s1">&#39;my/directory&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table>

<h2 id="contributing">Contributing</h2>
<p>I welcome any contributions, enhancements, and bug-fixes.  <a href="https://github.com/BigstickCarpet/readdir-enhanced/issues">File an issue</a> on GitHub and <a href="https://github.com/BigstickCarpet/readdir-enhanced/pulls">submit a pull request</a>.</p>
<h4 id="building">Building</h4>
<p>To build the project locally on your computer:</p>
<ol>
<li>
<p><strong>Clone this repo</strong><br>
<code>git clone https://github.com/bigstickcarpet/readdir-enhanced.git</code></p>
</li>
<li>
<p><strong>Install dependencies</strong><br>
<code>npm install</code></p>
</li>
<li>
<p><strong>Run the tests</strong><br>
<code>npm test</code></p>
</li>
</ol>
<h2 id="license">License</h2>
<p><code>readdir-enhanced</code> is 100% free and open-source, under the <a href="LICENSE">MIT license</a>. Use it however you want.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../../assets/javascripts/application.583bbe55.js"></script>
      
        
        
          
          <script src="../../../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../../../../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../../.."}})</script>
      
    
    
      
    
  </body>
</html>